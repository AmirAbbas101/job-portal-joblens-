{% extends "base.html" %}
{% load static %}
{% block content %}
    <div class="max-w-2xl mx-auto bg-white rounded-2xl p-6 sm:p-8 shadow-xl mt-10">
        <h2 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-6">Apply for {{ view.job.job_title }}</h2>
        {% if form.non_field_errors %}<div class="mb-4 text-red-600 text-sm">{{ form.non_field_errors }}</div>{% endif %}
        <form method="post" enctype="multipart/form-data" class="space-y-6">
            {% csrf_token %}
            <!-- Resume Upload -->
            <div>
                <label for="id_resume" class="block text-sm font-medium text-gray-700 mb-1">Upload Resume</label>
                <input type="file"
                       name="resume"
                       accept=".pdf, .doc, .docx, .odt"
                       required
                       class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-primary-green"
                       id="id_resume" />
                {% if form.resume.errors %}<p class="text-red-500 text-xs mt-1">{{ form.resume.errors.0 }}</p>{% endif %}
                <p class="text-xs text-gray-500 mt-1">Accepted formats: PDF, DOC, DOCX, ODT only</p>
            </div>
            <!-- Cover Letter -->
            <div>
                <label for="id_cover_letter"
                       class="block text-sm font-medium text-gray-700 mb-1">Cover Letter (Optional)</label>
                {{ form.cover_letter }}
                {% if form.cover_letter.errors %}<p class="text-red-500 text-xs mt-1">{{ form.cover_letter.errors.0 }}</p>{% endif %}
            </div>
            <!-- Submit Button -->
            <div class="text-right">
                <button type="submit" class="btn-navbar">Submit Application</button>
            </div>
        </form>
    </div>
{% endblock %}
